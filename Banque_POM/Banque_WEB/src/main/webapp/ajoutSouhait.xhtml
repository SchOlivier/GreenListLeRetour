<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>GreenList - Ajout Souhait</title>
<f:metadata>
	<f:event listener="#{mbUtilisateur.securePage()}" type="preRenderView"></f:event>
</f:metadata>
</h:head>
<h:body>
	<ui:composition template="/WEB-INF/templates/base.xhtml">

		<ui:define name="content">
			<h:form id="formAjoutSouhait" enctype="multipart/form-data" class="formulaire">
				<div class="pageTitleBloc">
					<div class="fa fa-plus fa-2x pageTitleIcon"></div>
					<div class="pageTitle whiteColor grow">Ajouter un Souhait</div>
				</div>

				<!-- Bloc de critères -->

				<div class="criteresBloc">
					<ul class="catBloc">
						<li class="libelleInput">
							<div class="field-wrap">
								<label>Libellé<span class="req">*</span></label>
								<h:inputText value="#{mbSouhait.souhait.libelle}" />
							</div>
						</li>
						<li class="valeurInput">
							<div class="field-wrap">
								<label>Valeur Maximum de <span class="fa fa-snowflake-o floconIcon"></span></label>
								<h:inputText value="#{mbSouhait.souhait.valeurmax}" />
							</div>
						</li>
						<li class="domainIconBloc">
							<ul>
								<li>Domaine*</li>
								<li class="domainIcon">
								<h:commandButton
										class="domainIcon domaine1">
										<f:ajax listener="#{mbSouhait.saveDomaine(1)}" event="click"
											render=":formAjoutSouhait:groupesMenu :formAjoutSouhait:produitsMenu"
											execute="@form" />
									</h:commandButton></li>
								<li class="domainIcon"><h:commandButton
										class="domainIcon domaine2">
										<f:ajax listener="#{mbSouhait.saveDomaine(2)}" event="click"
											render=":formAjoutSouhait:groupesMenu :formAjoutSouhait:produitsMenu"
											execute="@form" />
									</h:commandButton></li>
								<li class="domainIcon"><h:commandButton
										class="domainIcon domaine3">
										<f:ajax listener="#{mbSouhait.saveDomaine(3)}" event="click"
											render=":formAjoutSouhait:groupesMenu :formAjoutSouhait:produitsMenu"
											execute="@form" />
									</h:commandButton></li>
								<li class="domainIcon"><h:commandButton
										class="domainIcon domaine4">
										<f:ajax listener="#{mbSouhait.saveDomaine(4)}" event="click"
											render=":formAjoutSouhait:groupesMenu :formAjoutSouhait:produitsMenu"
											execute="@form" />
									</h:commandButton></li>
								<li class="domainIcon"><h:commandButton
										class="domainIcon domaine5">
										<f:ajax listener="#{mbSouhait.saveDomaine(5)}" event="click"
											render=":formAjoutSouhait:groupesMenu :formAjoutSouhait:produitsMenu"
											execute="@form" />
									</h:commandButton></li>
							</ul>
						</li>
						<li class="groupCat">
							<div class="catTitle">Groupe <span class="req">*</span></div> <h:selectOneMenu
								class="dropDownListCat" id="groupesMenu"
								value="#{mbAfficheRefObjetSOuhait.selectedGroupe.id}">
								<f:selectItems value="#{mbAfficheRefObjetSOuhait.groupes}"
									var="g" itemLabel="#{g.libelle}" itemValue="#{g.id}" />
								<f:ajax
									listener="#{mbAfficheRefObjetSOuhait.rechercherProduits()}"
									event="change" render=":formAjoutSouhait:produitsMenu"
									execute="@form" />
							</h:selectOneMenu>
						</li>
						<li class="groupCat">
							<div class="catTitle">Produit <span class="req">*</span></div> <h:selectOneMenu
								id="produitsMenu" class="dropDownListCat"
								value="#{mbSouhait.souhait.produit.id}">
								<f:selectItems value="#{mbAfficheRefObjetSOuhait.produits}"
									var="p" itemLabel="#{p.libelle}" itemValue="#{p.id}" />
							</h:selectOneMenu>
						</li>
						<li class="groupCat">
							<div class="catTitle">Tranche d'âge <span class="req">*</span></div> <h:selectOneMenu
								class="dropDownListCat"
								value="#{mbSouhait.souhait.trancheAge.id}">
								<f:selectItems value="#{mbAfficheRefObjetSOuhait.tranchesAges}"
									var="t" itemLabel="#{t.libelle}" itemValue="#{t.id}" />
							</h:selectOneMenu>
						</li>
					</ul>
				</div>


				<!-- Selectionner Listes -->

				<div class="listeBloc">
					<div class="pageSubTitle">Ajouter à une liste</div>
					<div class="listeConteneur">
						<div class="listeTab">
							<h:selectOneMenu id="listesMenu" class="dropDownListCat"
								value="#{mbSouhait.souhait.liste.id}">
								<f:selectItems value="#{mbListes.listes}" var="l"
									itemLabel="#{l.libelle}" itemValue="#{l.id}" />
							</h:selectOneMenu>
							<input type="submit" class="ajoutSouhaitBouton longButton"
								value="Choisir" />
						</div>
						<div class="listeTab">ou Nouvelle Liste</div>
						<div class="listeTab">
							<div class="field-wrap">
								<label>Libellé<span class="req">*</span></label> <input
									type="text" autocomplete="off" /> <input type="date"
									value="2017-12-31" />
							</div>
							<button class="ajoutSouhaitBouton longButton">Créer et
								Choisir</button>
						</div>
					</div>
				</div>

				<!-- Bloc de boutons -->

				<div class="boutonsBloc">
					<div class="pageBouton">
						<h:commandButton class="souhaitItem"
							action="#{mbSouhait.creerSouhait()}" value="Valider" />
					</div>
					<div class="pageBouton">
						<h:commandButton class="souhaitItem" value="Annuler"
							onclick="window.history.go(-1); return false;" />
					</div>
					<div class="pageBouton">
						<h:commandButton class="souhaitItem" value="Test" />
					</div>
				</div>
			</h:form>
		</ui:define>

	</ui:composition>
</h:body>
</html>
